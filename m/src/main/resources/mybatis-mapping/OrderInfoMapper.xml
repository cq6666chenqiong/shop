<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zhsj.m.dao.OrderInfoDao" >
  <resultMap id="BaseResultMap" type="com.zhsj.m.vo.OrderInfoVO" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="order_id" property="orderId" jdbcType="VARCHAR" />
    <result column="plan_charge_amount" property="planChargeAmount" jdbcType="DECIMAL" />
    <result column="actual_charge_amount" property="actualChargeAmount" jdbcType="DECIMAL" />
    <result column="status" property="status" jdbcType="TINYINT" />
    <result column="pay_type" property="payType" jdbcType="INTEGER" />
    <result column="pay_method" property="payMethod" jdbcType="VARCHAR" />
    <result column="store_code" property="storeCode" jdbcType="VARCHAR" />
    <result column="merchant_code" property="merchantCode" jdbcType="VARCHAR" />
    <result column="org_id" property="orgId" jdbcType="BIGINT" />
    <result column="org_ids" property="orgIds" jdbcType="VARCHAR" />
    <result column="user_id" property="userId" jdbcType="BIGINT" />
    <result column="utime" property="utime" jdbcType="INTEGER" />
    <result column="ctime" property="ctime" jdbcType="INTEGER" />
    <result column="sale_id" property="saleId" jdbcType="INTEGER" />
    <result column="discount_detail" property="discountDetail" jdbcType="VARCHAR" />
    <result column="store_discount_price" property="storeDiscountPrice" jdbcType="DECIMAL" />
    <result column="org_discount_price" property="orgDiscountPrice" jdbcType="DECIMAL" />
    <result column="ref_no" property="refNo" jdbcType="VARCHAR" />
    <result column="refund_money" property="refundMoney" jdbcType="DECIMAL" />
    <result column="pay_channel" property="payChannel" jdbcType="INTEGER" />
    <result column="device_type" property="deviceType" jdbcType="INTEGER" />
    <result column="pay_device" property="payDevice" jdbcType="VARCHAR" />
    <result column="transaction_id" property="transactionId" jdbcType="VARCHAR" />
    <result column="special_rate_id" property="specialRateId" jdbcType="INTEGER" />
    <result column="rate" property="rate" jdbcType="DECIMAL" />
    <result column="service_charge" property="serviceCharge" jdbcType="DECIMAL" />
    <result column="mchnt_order_no" property="mchntOrderNo" jdbcType="VARCHAR" />
    <result column="fuyou_order_no" property="fuyouOrderNo" jdbcType="VARCHAR" />
    <result column="card_type" property="cardType" jdbcType="VARCHAR" />
    <result column="code" property="code" jdbcType="VARCHAR" />
    <result column="notify_url" property="notifyUrl" jdbcType="VARCHAR" />
    <result column="order_type" property="orderType" jdbcType="CHAR" />
    <result column="short_name" property="shortName" jdbcType="CHAR" />
  </resultMap>
  
 
  
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    id, order_id, plan_charge_amount, actual_charge_amount, status, pay_type, pay_method, 
    store_code, merchant_code, org_id, org_ids, user_id, utime, ctime, sale_id, discount_detail, store_discount_price, 
    org_discount_price, ref_no, refund_money, pay_channel, device_type, pay_device, transaction_id, 
    special_rate_id, rate, service_charge, mchnt_order_no, fuyou_order_no, card_type, 
    code, notify_url, order_type
  </sql>
  
  <sql id="query_sql" >
  
  <where>
      1 = 1 
  	  <if test="orderId != null and orderId !=''" >
       AND o.order_id = #{orderId,jdbcType=VARCHAR}
      </if>
      <if test="planChargeAmount != null and planChargeAmount !=''" >
       AND o.plan_charge_amount = #{planChargeAmount,jdbcType=DECIMAL}
      </if>
      <if test="actualChargeAmount != null and actualChargeAmount !=''" >
       AND o.actual_charge_amount = #{actualChargeAmount,jdbcType=DECIMAL}
      </if>
      <if test="status != null and status !=''" >
       AND o.status = #{status,jdbcType=TINYINT}
      </if>
      <if test="payType != null and payType !=''" >
       AND o.pay_type = #{payType,jdbcType=INTEGER}
      </if>
      <if test="payMethod != null and payMethod !=''" >
       AND o.pay_method = #{payMethod,jdbcType=VARCHAR}
      </if>
      <if test="storeCode != null and storeCode !=''" >
       AND o.store_code = #{storeCode,jdbcType=VARCHAR}
      </if>
      <if test="merchantCode != null and merchantCode !=''" >
       AND o.merchant_code = #{merchantCode,jdbcType=VARCHAR}
      </if>
      <if test="orgId != null and orgId !=''" >
       AND o.org_id = #{orgId,jdbcType=BIGINT}
      </if>
      <if test="orgIds != null and orgIds !=''" >
       AND o.org_ids = #{orgIds,jdbcType=VARCHAR}
      </if>
      <if test="userId != null and userId !=''" >
       AND o.user_id = #{userId,jdbcType=BIGINT}
      </if>
      <if test="utime != null and utime !=''" >
       AND  o.utime >= #{utime,jdbcType=INTEGER},
      </if>
      <if test="startTime != null and startTime !=''" >
       AND <![CDATA[ o.ctime >= #{startTime,jdbcType=INTEGER} ]]>
      </if>
      <if test="endTime != null and endTime !=''" >
       AND <![CDATA[ o.ctime <= #{endTime,jdbcType=INTEGER} ]]>
      </if>
      <if test="saleId != null and saleId !=''" >
       AND o.sale_id = #{saleId,jdbcType=INTEGER}
      </if>
      <if test="discountDetail != null and discountDetail !=''" >
       AND o.discount_detail = #{discountDetail,jdbcType=VARCHAR}
      </if>
      <if test="storeDiscountPrice != null and storeDiscountPrice !=''" >
       AND o.store_discount_price = #{storeDiscountPrice,jdbcType=DECIMAL}
      </if>
      <if test="orgDiscountPrice != null and orgDiscountPrice !=''" >
       AND org_discount_price = #{orgDiscountPrice,jdbcType=DECIMAL}
      </if>
      <if test="refNo != null and refNo !=''" >
       AND o.ref_no = #{refNo,jdbcType=VARCHAR}
      </if>
      <if test="refundMoney != null and refundMoney !=''" >
       AND o.refund_money = #{refundMoney,jdbcType=DECIMAL}
      </if>
      <if test="payChannel != null and payChannel !=''" >
       AND o.pay_channel = #{payChannel,jdbcType=INTEGER}
      </if>
      <if test="deviceType != null and deviceType !=''" >
       AND o.device_type = #{deviceType,jdbcType=INTEGER}
      </if>
      <if test="payDevice != null and payDevice !=''" >
       AND o.pay_device = #{payDevice,jdbcType=VARCHAR}
      </if>
      <if test="transactionId != null and transactionId !=''" >
       AND o.transaction_id = #{transactionId,jdbcType=VARCHAR}
      </if>
      <if test="specialRateId != null and specialRateId !=''" >
       AND o.special_rate_id = #{specialRateId,jdbcType=INTEGER}
      </if>
      <if test="rate != null and rate !=''" >
       AND o.rate = #{rate,jdbcType=DECIMAL}
      </if>
      <if test="serviceCharge != null and serviceCharge !=''" >
       AND o.service_charge = #{serviceCharge,jdbcType=DECIMAL}
      </if>
      <if test="mchntOrderNo != null and mchntOrderNo !=''" >
       AND o.mchnt_order_no = #{mchntOrderNo,jdbcType=VARCHAR}
      </if>
      <if test="fuyouOrderNo != null and fuyouOrderNo !=''" >
       AND o.fuyou_order_no = #{fuyouOrderNo,jdbcType=VARCHAR}
      </if>
      <if test="cardType != null and cardType !=''" >
       AND o.card_type = #{cardType,jdbcType=VARCHAR}
      </if>
      <if test="code != null and code !=''" >
       AND o.code = #{code,jdbcType=VARCHAR}
      </if>
      <if test="notifyUrl != null and notifyUrl !=''" >
       AND o.notify_url = #{notifyUrl,jdbcType=VARCHAR}
      </if>
      <if test="orderType != null and orderType !=''" >
       AND o.order_type = #{orderType,jdbcType=CHAR}
      </if>
     </where>
  </sql>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    select 
    <include refid="Base_Column_List" />
    from tb_order
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    delete from tb_order
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.zhsj.m.model.OrderInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    insert into tb_order (id, order_id, plan_charge_amount, 
      actual_charge_amount, status, pay_type, 
      pay_method, store_code, merchant_code, 
      org_id, org_ids, user_id, 
      utime, ctime, sale_id, 
      discount_detail, store_discount_price, org_discount_price, 
      ref_no, refund_money, pay_channel, 
      device_type, pay_device, transaction_id, 
      special_rate_id, rate, service_charge, 
      mchnt_order_no, fuyou_order_no, card_type, 
      code, notify_url, order_type
      )
    values (#{id,jdbcType=BIGINT}, #{orderId,jdbcType=VARCHAR}, #{planChargeAmount,jdbcType=DECIMAL}, 
      #{actualChargeAmount,jdbcType=DECIMAL}, #{status,jdbcType=TINYINT}, #{payType,jdbcType=INTEGER}, 
      #{payMethod,jdbcType=VARCHAR}, #{storeCode,jdbcType=VARCHAR}, #{merchantCode,jdbcType=VARCHAR}, 
      #{orgId,jdbcType=BIGINT}, #{orgIds,jdbcType=VARCHAR}, #{userId,jdbcType=BIGINT}, 
      #{utime,jdbcType=INTEGER}, #{ctime,jdbcType=INTEGER}, #{saleId,jdbcType=INTEGER}, 
      #{discountDetail,jdbcType=VARCHAR}, #{storeDiscountPrice,jdbcType=DECIMAL}, #{orgDiscountPrice,jdbcType=DECIMAL}, 
      #{refNo,jdbcType=VARCHAR}, #{refundMoney,jdbcType=DECIMAL}, #{payChannel,jdbcType=INTEGER}, 
      #{deviceType,jdbcType=INTEGER}, #{payDevice,jdbcType=VARCHAR}, #{transactionId,jdbcType=VARCHAR}, 
      #{specialRateId,jdbcType=INTEGER}, #{rate,jdbcType=DECIMAL}, #{serviceCharge,jdbcType=DECIMAL}, 
      #{mchntOrderNo,jdbcType=VARCHAR}, #{fuyouOrderNo,jdbcType=VARCHAR}, #{cardType,jdbcType=VARCHAR}, 
      #{code,jdbcType=VARCHAR}, #{notifyUrl,jdbcType=VARCHAR}, #{orderType,jdbcType=CHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.zhsj.m.model.OrderInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    insert into tb_order
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="orderId != null" >
        order_id,
      </if>
      <if test="planChargeAmount != null" >
        plan_charge_amount,
      </if>
      <if test="actualChargeAmount != null" >
        actual_charge_amount,
      </if>
      <if test="status != null" >
        status,
      </if>
      <if test="payType != null" >
        pay_type,
      </if>
      <if test="payMethod != null" >
        pay_method,
      </if>
      <if test="storeCode != null" >
        store_code,
      </if>
      <if test="merchantCode!= null" >
        merchant_code,
      </if>
      <if test="orgId != null" >
        org_id,
      </if>
      <if test="orgIds != null" >
        org_ids,
      </if>
      <if test="userId != null" >
        user_id,
      </if>
      <if test="utime != null" >
        utime,
      </if>
      <if test="ctime != null" >
        ctime,
      </if>
      <if test="saleId != null" >
        sale_id,
      </if>
      <if test="discountDetail != null" >
        discount_detail,
      </if>
      <if test="storeDiscountPrice != null" >
        store_discount_price,
      </if>
      <if test="orgDiscountPrice != null" >
        org_discount_price,
      </if>
      <if test="refNo != null" >
        ref_no,
      </if>
      <if test="refundMoney != null" >
        refund_money,
      </if>
      <if test="payChannel != null" >
        pay_channel,
      </if>
      <if test="deviceType != null" >
        device_type,
      </if>
      <if test="payDevice != null" >
        pay_device,
      </if>
      <if test="transactionId != null" >
        transaction_id,
      </if>
      <if test="specialRateId != null" >
        special_rate_id,
      </if>
      <if test="rate != null" >
        rate,
      </if>
      <if test="serviceCharge != null" >
        service_charge,
      </if>
      <if test="mchntOrderNo != null" >
        mchnt_order_no,
      </if>
      <if test="fuyouOrderNo != null" >
        fuyou_order_no,
      </if>
      <if test="cardType != null" >
        card_type,
      </if>
      <if test="code != null" >
        code,
      </if>
      <if test="notifyUrl != null" >
        notify_url,
      </if>
      <if test="orderType != null" >
        order_type,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="orderId != null" >
        #{orderId,jdbcType=VARCHAR},
      </if>
      <if test="planChargeAmount != null" >
        #{planChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="actualChargeAmount != null" >
        #{actualChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="status != null" >
        #{status,jdbcType=TINYINT},
      </if>
      <if test="payType != null" >
        #{payType,jdbcType=INTEGER},
      </if>
      <if test="payMethod != null" >
        #{payMethod,jdbcType=VARCHAR},
      </if>
      <if test="storeCode != null" >
        #{storeCode,jdbcType=VARCHAR},
      </if>
      <if test="merchantCode!= null" >
        #{merchantCode,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null" >
        #{orgId,jdbcType=BIGINT},
      </if>
      <if test="orgIds != null" >
        #{orgIds,jdbcType=VARCHAR},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=BIGINT},
      </if>
      <if test="utime != null" >
        #{utime,jdbcType=INTEGER},
      </if>
      <if test="ctime != null" >
        #{ctime,jdbcType=INTEGER},
      </if>
      <if test="saleId != null" >
        #{saleId,jdbcType=INTEGER},
      </if>
      <if test="discountDetail != null" >
        #{discountDetail,jdbcType=VARCHAR},
      </if>
      <if test="storeDiscountPrice != null" >
        #{storeDiscountPrice,jdbcType=DECIMAL},
      </if>
      <if test="orgDiscountPrice != null" >
        #{orgDiscountPrice,jdbcType=DECIMAL},
      </if>
      <if test="refNo != null" >
        #{refNo,jdbcType=VARCHAR},
      </if>
      <if test="refundMoney != null" >
        #{refundMoney,jdbcType=DECIMAL},
      </if>
      <if test="payChannel != null" >
        #{payChannel,jdbcType=INTEGER},
      </if>
      <if test="deviceType != null" >
        #{deviceType,jdbcType=INTEGER},
      </if>
      <if test="payDevice != null" >
        #{payDevice,jdbcType=VARCHAR},
      </if>
      <if test="transactionId != null" >
        #{transactionId,jdbcType=VARCHAR},
      </if>
      <if test="specialRateId != null" >
        #{specialRateId,jdbcType=INTEGER},
      </if>
      <if test="rate != null" >
        #{rate,jdbcType=DECIMAL},
      </if>
      <if test="serviceCharge != null" >
        #{serviceCharge,jdbcType=DECIMAL},
      </if>
      <if test="mchntOrderNo != null" >
        #{mchntOrderNo,jdbcType=VARCHAR},
      </if>
      <if test="fuyouOrderNo != null" >
        #{fuyouOrderNo,jdbcType=VARCHAR},
      </if>
      <if test="cardType != null" >
        #{cardType,jdbcType=VARCHAR},
      </if>
      <if test="code != null" >
        #{code,jdbcType=VARCHAR},
      </if>
      <if test="notifyUrl != null" >
        #{notifyUrl,jdbcType=VARCHAR},
      </if>
      <if test="orderType != null" >
        #{orderType,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.zhsj.m.model.OrderInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    update tb_order
    <set >
      <if test="orderId != null" >
        order_id = #{orderId,jdbcType=VARCHAR},
      </if>
      <if test="planChargeAmount != null" >
        plan_charge_amount = #{planChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="actualChargeAmount != null" >
        actual_charge_amount = #{actualChargeAmount,jdbcType=DECIMAL},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=TINYINT},
      </if>
      <if test="payType != null" >
        pay_type = #{payType,jdbcType=INTEGER},
      </if>
      <if test="payMethod != null" >
        pay_method = #{payMethod,jdbcType=VARCHAR},
      </if>
      <if test="storeCode != null" >
        store_code = #{storeCode,jdbcType=VARCHAR},
      </if>
      <if test="merchantCode != null" >
        merchant_code = #{merchantCode,jdbcType=VARCHAR},
      </if>
      <if test="orgId != null" >
        org_id = #{orgId,jdbcType=BIGINT},
      </if>
      <if test="orgIds != null" >
        org_ids = #{orgIds,jdbcType=VARCHAR},
      </if>
      <if test="userId != null" >
        user_id = #{userId,jdbcType=BIGINT},
      </if>
      <if test="utime != null" >
        utime = #{utime,jdbcType=INTEGER},
      </if>
      <if test="ctime != null" >
        ctime = #{ctime,jdbcType=INTEGER},
      </if>
      <if test="saleId != null" >
        sale_id = #{saleId,jdbcType=INTEGER},
      </if>
      <if test="discountDetail != null" >
        discount_detail = #{discountDetail,jdbcType=VARCHAR},
      </if>
      <if test="storeDiscountPrice != null" >
        store_discount_price = #{storeDiscountPrice,jdbcType=DECIMAL},
      </if>
      <if test="orgDiscountPrice != null" >
        org_discount_price = #{orgDiscountPrice,jdbcType=DECIMAL},
      </if>
      <if test="refNo != null" >
        ref_no = #{refNo,jdbcType=VARCHAR},
      </if>
      <if test="refundMoney != null" >
        refund_money = #{refundMoney,jdbcType=DECIMAL},
      </if>
      <if test="payChannel != null" >
        pay_channel = #{payChannel,jdbcType=INTEGER},
      </if>
      <if test="deviceType != null" >
        device_type = #{deviceType,jdbcType=INTEGER},
      </if>
      <if test="payDevice != null" >
        pay_device = #{payDevice,jdbcType=VARCHAR},
      </if>
      <if test="transactionId != null" >
        transaction_id = #{transactionId,jdbcType=VARCHAR},
      </if>
      <if test="specialRateId != null" >
        special_rate_id = #{specialRateId,jdbcType=INTEGER},
      </if>
      <if test="rate != null" >
        rate = #{rate,jdbcType=DECIMAL},
      </if>
      <if test="serviceCharge != null" >
        service_charge = #{serviceCharge,jdbcType=DECIMAL},
      </if>
      <if test="mchntOrderNo != null" >
        mchnt_order_no = #{mchntOrderNo,jdbcType=VARCHAR},
      </if>
      <if test="fuyouOrderNo != null" >
        fuyou_order_no = #{fuyouOrderNo,jdbcType=VARCHAR},
      </if>
      <if test="cardType != null" >
        card_type = #{cardType,jdbcType=VARCHAR},
      </if>
      <if test="code != null" >
        code = #{code,jdbcType=VARCHAR},
      </if>
      <if test="notifyUrl != null" >
        notify_url = #{notifyUrl,jdbcType=VARCHAR},
      </if>
      <if test="orderType != null" >
        order_type = #{orderType,jdbcType=CHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.zhsj.m.model.OrderInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Oct 29 12:06:32 CST 2017.
    -->
    update tb_order
    set order_id = #{orderId,jdbcType=VARCHAR},
      plan_charge_amount = #{planChargeAmount,jdbcType=DECIMAL},
      actual_charge_amount = #{actualChargeAmount,jdbcType=DECIMAL},
      status = #{status,jdbcType=TINYINT},
      pay_type = #{payType,jdbcType=INTEGER},
      pay_method = #{payMethod,jdbcType=VARCHAR},
      store_code = #{storeCode,jdbcType=VARCHAR},
      merchant_code = #{merchantCode,jdbcType=VARCHAR},
      org_id = #{orgId,jdbcType=BIGINT},
      org_ids = #{orgIds,jdbcType=VARCHAR},
      user_id = #{userId,jdbcType=BIGINT},
      utime = #{utime,jdbcType=INTEGER},
      ctime = #{ctime,jdbcType=INTEGER},
      sale_id = #{saleId,jdbcType=INTEGER},
      discount_detail = #{discountDetail,jdbcType=VARCHAR},
      store_discount_price = #{storeDiscountPrice,jdbcType=DECIMAL},
      org_discount_price = #{orgDiscountPrice,jdbcType=DECIMAL},
      ref_no = #{refNo,jdbcType=VARCHAR},
      refund_money = #{refundMoney,jdbcType=DECIMAL},
      pay_channel = #{payChannel,jdbcType=INTEGER},
      device_type = #{deviceType,jdbcType=INTEGER},
      pay_device = #{payDevice,jdbcType=VARCHAR},
      transaction_id = #{transactionId,jdbcType=VARCHAR},
      special_rate_id = #{specialRateId,jdbcType=INTEGER},
      rate = #{rate,jdbcType=DECIMAL},
      service_charge = #{serviceCharge,jdbcType=DECIMAL},
      mchnt_order_no = #{mchntOrderNo,jdbcType=VARCHAR},
      fuyou_order_no = #{fuyouOrderNo,jdbcType=VARCHAR},
      card_type = #{cardType,jdbcType=VARCHAR},
      code = #{code,jdbcType=VARCHAR},
      notify_url = #{notifyUrl,jdbcType=VARCHAR},
      order_type = #{orderType,jdbcType=CHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>
  
  <select id="getOrderCount" resultType="int"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select count(1) from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
  </select>
  
  <select id="getPerAveOrderMoney" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select AVG(plan_charge_amount) from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
  </select>
  
  <select id="getOrderSumInCome" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select sum(plan_charge_amount) from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
  </select>

  <select id="getOrderSumDiscountTradeMoney" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select sum(store_discount_price + org_discount_price) from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
  </select>
  
  <select id="getOrderRealSumTradeMoney" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select sum(actual_charge_amount) from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
  </select>
  
 
  
  <select id="getOrderList" resultMap="BaseResultMap"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select * from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
        order BY o.ctime
        limit #{startNum},#{pageSize}
  </select>
  
  <select id="getOrderListForExcel" resultMap="BaseResultMap"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
        select * from tb_order o 
        <include refid="query_sql" />
        <if test="auth==1">
          and ${condition}
        </if>
        <if test="auth==2">
          and o.store_code = ${storeCode }
        </if>
          order BY o.ctime
  </select>
  
  
  
   
  <select id="getOrderSumNetInCome" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select sum(actual_charge_amount) from tb_order o 
        <include refid="query_sql" />
  </select>
  <select id="getComparedMoneyProportion" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select count(1) from tb_order o
        <include refid="query_sql" />
  </select>
  
  <select id="getComparedOrderCountProportion" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select count(1) from tb_order o 
        <include refid="query_sql" />
  </select>
  
  <select id="getComparedPerPriceProportion" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select count(1) from tb_order o 
        <include refid="query_sql" />
  </select>

  <select id="getOrderNetInComeProportion" resultType="decimal"  parameterType="com.zhsj.m.vo.OrderInfoVO" >
         select count(1) from tb_order o 
        <include refid="query_sql" />
  </select>
   
 
  
  
</mapper>